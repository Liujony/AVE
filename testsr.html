<!DOCTYPE html>
<html>
<head>
	<title>SignInOrRegister</title>
	<style>
		@font-face{
			font-family: Montserrat;
			src: url(Font/Montserrat-Regular.ttf)
		}
		@font-face{
			font-family: Yellowtail;
			src: url(Font/Yellowtail-Regular.otf)
		}
		*{
			padding: 0;
			margin: 0;
			font-family: Montserrat;
		}
		ol,ul,li{
			list-style: none;
		}
		a{
			text-decoration: none;
			display: block;
			color: black;
		}
		img{
			display: block;
			border: none;
		}
		.clearfloat{
			zoom: 1;
		}
		.cleatfloat:after{
			display: block;
			clear: both;
			content: "";
			height: 0;
			visibility: hidden;
		}

		.on-click{
			color: #55D2D2 !important; 
		}

		.homepage-main-body{
			position: relative;
			width: 70%;
			margin: 70px auto;
		}
		.homepage-main-body .SignIn,
		.homepage-main-body .Register{
			display: inline-block;
		}
		.homepage-main-body .SignIn,
		.homepage-main-body .Register{
			width: 47%;
		}
		.homepage-main-body .SignIn{
			position: absolute;
			top: 0;
		}
		.homepage-main-body .Register{
			margin-left: 50%;
			padding-left: 4%;
			border-left: 1px solid #EEEEEE; 
		}
		.homepage-main-body input.input{
			width: 95%;height: 20px;
			margin-top: 30px;
			padding: 5px;
			border: 1px solid #E7E7E7; 
			background-color: #FFFFFF;
		}
		.homepage-main-body input.button{
			cursor: pointer;
			padding: 15px 25px;
			margin-top: 30px;
			border: 2px solid #737373;
			background-color: #FFFFFF
		}
		.homepage-main-body input.button:hover{
			color: #FFFFFF;
			border: 2px solid #00C8C8;
			background-color: #00C8C8;
			transition: .2s;
		}
		.homepage-main-body .SignIn a{
			display: inline-block;
			margin-left: 190px;
			font-size: .7em;
			color: #42D0D0;
		}
		.homepage-main-body input.checkbox{
			color: #979595;
			font-size: .5em;
		}
		.homepage-main-body .f-text{
			display: inline-block;
			margin-top:30px;
			color: #979595;
			font-size: .7em;
		}
	</style>
</head>
<body>
	<div class="homepage-main-body">
		<div class="SignIn">
			<form>
				<div>Sign In</div>
				<input class="input" type="text" name="email" placeholder="Your Email...">
				<input class="input" type="password" name="password" placeholder="Your password..">
				<div style="font-size: .7em;margin-top: 20px;"><input class="checkbox" type="checkbox"> Autologon.</div>
				<input class="button" type="button" value="SIGN IN">
				<a href="javascript:;">Forget your password <i class="icon-arrow-right"></i></a>
			</form>
		</div>
		<div class="Register">
			<form>
				<div>Register</div>
				<input class="input" type="text" name="email" placeholder="Your Email..">
				<input class="input" type="password" name="password" placeholder="Your password..">
				<input class="input" type="password" name="confirmpassword" placeholder="Comfirm password..">
				<input class="checkbox" type="checkbox"> <div class="f-text" style="">Sign up for exclusive, discounts, new arrivals, contests and more!</div>
				<input class="button" type="button" value="CREATE ACCOUNT">
				<div class="f-text" style="width: 200px;margin-left: 50px;">By Clicking 'Create Account', you agree to our <a href="javascript:;" style="display: inline-block;color: #42D0D0;">Privacy Policy <i class="icon-arrow-right"></i></a></div>
			</form>
		</div>
	</div>
	<script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
	<script type="text/javascript" src="http://apps.bdimg.com/libs/jquery.cookie/1.4.1/jquery.cookie.js"></script>
	<script>
		$(function(){
			var b_box=$(".homepage-main-body .input");
			var s_b=$(".SignIn .button");
			var r_b=$(".Register .button");
			var s_e=$(".SignIn .input[name='email']");
			var r_e=$(".Register .input[name='email']");
			var s_p=$(".SignIn .input[name='password']");
			var r_p=$(".Register .input[name='password']");
			var r_cp=$(".Register .input[name='confirmpassword']");
			var e_reg = /^([a-zA-Z0-9_\-\.])+@([a-zA-Z0-9_\-\.])+(\.\S)+/;
			var p_reg = /^[a-zA-Z0-9]\w{5,17}/;
			b_box.focus(function(){
				$(this).css({
					"border-color":"#838383",
					"background-color":"#FFFFFF"
				});
			});
			b_box.blur(function(){
				$(this).css({
					"border-color":"#E7E7E7"
				});
			});
			s_b.click(function(){
				if(e_reg.test(s_e.val())){
					SignIn(s_e.val(),s_p.val());
				}else{
					ShowMeg(s_e,"Your email was wrong...");
				}
			});
			r_b.click(function(){
				if(e_reg.test(r_e.val())){
					if(p_reg.test(r_p.val())){
						if(r_p.val()===r_cp.val()){
							Register(r_e.val(),r_p.val());
						}else{
							ShowMeg(r_cp,"Your password was not the same...");
						}
					}else{
						ShowMeg(r_p,"Your password was illegal...");
					}
				}else{
					ShowMeg(r_e,"Your email was illegal...");
				}
			});
		});
		function SignIn(Semail,Spassword){
			var url='main.php?act=signin';
			$.post(url,{
				email:Semail,
				password:Spassword
			},function(data){
				var msg=eval('('+data+')');
				if(msg.status){
					var date=new Date();
					date.setTime(date.getTime()+60*60*24*1000*30);
					$.cookie("ave_email",Semail,{expires:date});
					$.cookie("ave_password",Spassword,{expires:date});
				}else{
					switch(msg.error){
						case 'password':
							var s_p=$(".SignIn .input[name='password']");
							ShowMeg(s_p,msg.message);
							break;

						case 'email':
							var s_e=$(".SignIn .input[name='email']");
							ShowMeg(s_e,msg.message);
							break;
					}
				}
			});
		}
		function Register(Remail,Rpassword){
			var url='main.php?act=register';
			$.post(url,{
				email:Remail,
				password:Rpassword
			},function(data){
				var msg=eval('('+data+')');
				if(msg.status){
					console.log("succeed");
				}else{
					switch(msg.error){
						case 'password':
							var r_p=$(".Register .input[name='password']");
							ShowMeg(r_p,msg.message);
							break;

						case 'email':
							var r_e=$(".Register .input[name='email']");
							ShowMeg(r_e,msg.message);
							break;
					}
				}
			})
		}
		function ShowMeg(box,message){
			box.css({
				"background-color":'#FCF6F7',
				"border-color":'#BB5465'
			});
			box.val("");
			box.attr("placeholder",message);
		}
	</script>
	<!-- <script type="text/javascript" src="signinorregister.js"></script> -->
</body>
</html>